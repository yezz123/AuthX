## MongoDB

**AuthX** provides the necessary tools to work with MongoDB databases thanks to [mongodb/motor](https://github.com/mongodb/motor) package for full async support.

## Setup database connection and collection

Let's create a MongoDB connection and instantiate a collection.

```py hl_lines="5-8"
{!./src/mongo.py!}
```

You can choose any name for the database and the collection.

## Create the database adapter

The database adapter of **AuthX** makes the link between your database configuration and the users logic. It should be generated by a FastAPI dependency.

```py hl_lines="3 10"
{!./src/mongo.py!}
```

Notice that we pass a reference to your [Model](models.md).

!!! info
    The database adapter will automatically create a [unique index](https://docs.mongodb.com/manual/core/index-unique/) on `id` and `email`.

!!! warning
    **AuthX** will use its defined [`id`](models.md) as unique identifier for the user, rather than the builtin MongoDB `_id`.

## Check also

A Basics Functions that Motor & MongoDB provide.

* [Functions](functions.md)
